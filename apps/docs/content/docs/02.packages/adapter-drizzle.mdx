---
title: Drizzle Adapter
navTitle: "@vorsteh-queue/adapter-drizzle"
description: Drizzle ORM adapter for PostgreSQL providing type-safe database operations with excellent performance.
---

The Drizzle adapter provides PostgreSQL support using Drizzle ORM, offering excellent TypeScript integration and performance.

## Installation

<Command variant="install">@vorsteh-queue/core @vorsteh-queue/adapter-drizzle</Command>

## Quick Start

```typescript
import { drizzle } from "drizzle-orm/node-postgres"
import { Pool } from "pg"

import { PostgresQueueAdapter } from "@vorsteh-queue/adapter-drizzle"
import { Queue } from "@vorsteh-queue/core"

const pool = new Pool({ connectionString: "postgresql://..." })
const db = drizzle(pool)
const adapter = new PostgresQueueAdapter(db)
const queue = new Queue(adapter)
```

## Supported providers

- PGlite - https://orm.drizzle.team/docs/connect-pglite
- Postgres.JS - https://orm.drizzle.team/docs/get-started-postgresql#postgresjs
- Node Progress - https://orm.drizzle.team/docs/get-started-postgresql#node-postgres

## Database Setup

### Schema

The adapter includes a pre-defined schema:

```typescript
import { queueJobsTable } from "@vorsteh-queue/adapter-drizzle"

// Use in your schema file
export { queueJobsTable }
```

If you don't want to use the pre-defined schema, you can create your own schema definition.

<RemoteCodeBlock
  source="./packages/adapter-drizzle/src/postgres-schema.ts"
  language="ts"
  showToolbar={true}
  path="queue-jobs.ts"
/>

### Custom Table & Schema Names

To create a table with custom name and schema, you can use the `createQueueJobsTable` helper, which will create the table without taking care about the field definitions:

```typescript path="drizzle-schema.ts"
import { createQueueJobsTable } from "@vorsteh-queue/adapter-drizzle"

export const { table: customQueueJobs, schema: customSchema } = createQueueJobsTable(
  "custom_queue_jobs", // your custom table name
  "custom_schema", // your custom schema name
)
```

To use the custom table and schema in the adapter, pass the adapter configuration to the `PostgresQueueAdapter`:

```typescript
import { PostgresQueueAdapter } from "@vorsteh-queue/adapter-drizzle"

const adapter = new PostgresQueueAdapter(db, {
  // Your custom model name ( based on the example above - `table: customQueueJobs`)
  modelName: "customQueueJobs",
})
```

<Note title="Want to see it in action?">
  Checkout our drizzle example with [custom schema and
  table](/docs/examples/drizzle-custom-schema-table/).
</Note>

### Migration

To run the migrations, we recommend to use [`drizzle-kit`](https://orm.drizzle.team/docs/kit-overview).

> Drizzle Kit is a CLI tool for managing SQL database migrations with Drizzle.

## References

- Sources: https://github.com/noxify/vorsteh-queue/tree/main/packages/adapter-drizzle
- NPM: https://www.npmjs.com/package/@vorsteh-queue/adapter-drizzle
