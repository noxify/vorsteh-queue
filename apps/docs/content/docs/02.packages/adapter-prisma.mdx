---
title: Prisma Adapter
navTitle: "@vorsteh-queue/adapter-prisma"
description: Prisma ORM adapter for PostgreSQL with generated types and excellent developer tooling.
---

The Prisma adapter provides PostgreSQL support using Prisma ORM, offering generated types, migrations, and excellent developer tooling.

## Installation

<Command variant="install">@vorsteh-queue/core @vorsteh-queue/adapter-prisma"</Command>

## Quick Start

### With prisma-client-js

```typescript
import { PrismaClient } from "@prisma/client"

import { PostgresPrismaQueueAdapter } from "@vorsteh-queue/adapter-prisma"
import { Queue } from "@vorsteh-queue/core"

const prisma = new PrismaClient()
const adapter = new PostgresPrismaQueueAdapter(prisma)
const queue = new Queue(adapter)
```

### With prisma-client

```typescript
import { PrismaPg } from "@prisma/adapter-pg"
import { PrismaClient } from "src/generated/prisma/client"

import { PostgresPrismaQueueAdapter } from "@vorsteh-queue/adapter-prisma"
import { Queue } from "@vorsteh-queue/core"

const adapter = new PrismaPg({ connectionString: process.env.DATABASE_URL })
const prisma = new PrismaClient({ adapter })
const adapter = new PostgresPrismaQueueAdapter(prisma)
const queue = new Queue(adapter)
```

## Database Setup

### Schema

Add the queue job model to your `schema.prisma`:

<RemoteCodeBlock
  source="./packages/adapter-prisma/prisma/schema.prisma"
  language="prisma"
  showToolbar={true}
  path="prisma/schema.prisma"
  focusedLines="17-43"
/>

### Custom Table & Schema Names

To use the custom table and schema with prisma, you have to customize the prisma schema.
Here an example with custom schema and table name ( the relevant parts are highlighted ):

<RemoteCodeBlock
  source="./examples/prisma-custom-schema-table/prisma/schema.prisma"
  language="prisma"
  showToolbar={true}
  showLineNumbers={true}
  path="prisma/schema.prisma"
  focusedLines="16,19,44-45"
/>

To use the custom table and schema in the adapter, pass the adapter configuration to the `PostgresQueueAdapter`:

```typescript
import { PrismaPg } from "@prisma/adapter-pg"
import { PrismaClient } from "src/generated/prisma/client"

import { PostgresPrismaQueueAdapter } from "@vorsteh-queue/adapter-prisma"
import { Queue } from "@vorsteh-queue/core"

const adapter = new PrismaPg({ connectionString: process.env.DATABASE_URL })
const prisma = new PrismaClient({ adapter })

const adapter = new PostgresQueueAdapter(prisma, {
  // Your custom model name ( based on the example above )
  modelName: "CustomQueueJobs",
  // Your custom schema name
  schemaName: "custom_schema",
  // Your custom table name
  tableName: "custom_queue_jobs",
})

const queue = new Queue(adapter)
```

<Note title="Want to see it in action?">
  Checkout our prisma example with [custom schema and
  table](/docs/examples/prisma-custom-schema-table/).
</Note>

### Migration

To run the migrations, we recommend to use the [`prisma cli`](https://www.prisma.io/docs/orm/tools/prisma-cli).

> The Prisma command line interface (CLI) is the primary way to interact with your Prisma project from the command line.

## References

- Sources: https://github.com/noxify/vorsteh-queue/tree/main/packages/adapter-prisma
- NPM: https://www.npmjs.com/package/@vorsteh-queue/adapter-prisma
